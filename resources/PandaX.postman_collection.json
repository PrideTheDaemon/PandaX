{
	"info": {
		"_postman_id": "6fb6aeac-f456-466e-a380-ecfdf59eacce",
		"name": "PandaX",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth – Obtain token",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5104795f-8a74-4f82-a0ec-694b7fdac511",
						"exec": [
							"pm.test(\"Can log and request token\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Token is valid\", function () {",
							"    pm.response.stream.toString().split(\".\").length",
							"});",
							"",
							"if(pm.response.code == 200) {",
							"    pm.collectionVariables.set(\"token\", pm.response.stream.toString());",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "login",
							"value": "{{login}}",
							"type": "text"
						},
						{
							"key": "password",
							"value": "{{password}}",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{url}}/token",
					"host": [
						"{{url}}"
					],
					"path": [
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "Auth – Verify token",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d1c32a53-56b2-4780-bb0d-9e6f54585357",
						"exec": [
							"pm.test(\"Answer is Pong !\", function () {",
							"    pm.expect(pm.response.stream.toString()).to.equal(\"Pong !\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "localhost:8080/PandaX/",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"PandaX",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Media – Get all",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f8aff33e-e53f-45c3-922e-0c3c3d10d55f",
						"exec": [
							"pm.test(\"Can log and request token\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"let media = '{'",
							"    + '\"name\" : \"raj\"'",
							"    + '}';",
							"    ",
							"console.log(media);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{url}}/media",
					"host": [
						"{{url}}"
					],
					"path": [
						"media"
					]
				}
			},
			"response": []
		},
		{
			"name": "Media – Create one",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "75e431e7-abd2-4079-8fd6-6e618eb478c0",
						"exec": [
							"let media = '{'",
							"    + '\"name\" : \"machin\",'",
							"    + '\"pubisher\" : \"tamer\",'",
							"    + '\"datepub\" : \"2019-11-11\",'",
							"    + '\"city\" : \"tarass\",'",
							"    + '\"description\" : \"nik\",'",
							"    + '\"urlImage\" : \"http/vtff\",'",
							"    + '\"type\" : \"put\"'",
							"    + '}'",
							"",
							"pm.collectionVariables.set(\"media\", media);"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "0a0c35ee-732c-43a9-93ee-7949c2233163",
						"exec": [
							"pm.test(\"Can create media\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "{{token}}"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/x-www-form-urlencoded"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "media",
							"value": "{{media}}",
							"type": "text"
						}
					],
					"options": {
						"raw": {
							"language": "text"
						}
					}
				},
				"url": {
					"raw": "{{url}}/media",
					"host": [
						"{{url}}"
					],
					"path": [
						"media"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "17e81533-a19e-43c1-a507-33b48d0a62b9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "d7dcb7b2-ff4d-4c5c-96e9-db39e96f3c4c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "db5c3ca2-30fd-4f63-9ddd-f3ef336b3a10",
			"key": "url",
			"value": "localhost:8080/PandaX",
			"type": "string"
		},
		{
			"id": "91bde2a0-79c8-4e65-b952-da1f4f4e45ff",
			"key": "token",
			"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0OSIsImV4cCI6MTU3NDg1NzM1MywiaWF0IjoxNTc0NDI1MzUzLCJpc3MiOiJQYW5kYVggUkVTVCBBUEkiLCJyb2wiOiJBRE1JTiIsIm5hbSI6ImxvdWlzIn0.d5iTlU5JJFq4OFVqU5YJyfqn1keQRWwah--1gs4qcV0AdVDhcmGBX2jvlqXFsx2hV8J2X3igQuMl5hCvgfi51Q",
			"type": "string"
		},
		{
			"id": "d277aa3b-4967-43ad-84e8-108b4fd85524",
			"key": "login",
			"value": "louis",
			"type": "string"
		},
		{
			"id": "e32e03be-6792-4972-ba8a-fb29f75c6bdd",
			"key": "password",
			"value": "lemmy-ftw",
			"type": "string"
		},
		{
			"id": "daef722e-aa47-420f-ae73-462d9461355a",
			"key": "media",
			"value": "{\"name\" : \"machin\",\"pubisher\" : \"tamer\",\"datepub\" : \"2019-11-11\",\"city\" : \"tarass\",\"description\" : \"nik\",\"urlImage\" : \"http/vtff\",\"type\" : \"put\"}",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}